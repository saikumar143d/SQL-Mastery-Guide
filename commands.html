<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Command Simulator - SQL Mastery Guide</title>
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'%3e%3cdefs%3e%3clinearGradient id='holographic-orange' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3e%3cstop offset='0%25' style='stop-color:%23fb923c;stop-opacity:1' /%3e%3cstop offset='100%25' style='stop-color:%23f97316;stop-opacity:1' /%3e%3c/linearGradient%3e%3c/defs%3e%3cellipse cx='12' cy='5' rx='9' ry='3' fill='none' stroke='url(%23holographic-orange)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M21 12c0 1.66-4 3-9 3s-9-1.34-9-3' fill='none' stroke='url(%23holographic-orange)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5' fill='none' stroke='url(%23holographic-orange)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Plus Jakarta Sans for body, Lexend for headings -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600&family=Lexend:wght@600;700&display=swap" rel="stylesheet">
    <!-- Google Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <style>
        :root {
            --theme-orange: #f97316; /* orange-500 */
            --theme-green: #22c55e; /* green-500 */
            --theme-dark: #1e293b; /* slate-800 */
        }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #f8fafc;
        }
        .font-heading {
            font-family: 'Lexend', sans-serif;
            color: var(--theme-dark);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        code:not(pre code) {
            background-color: #ffedd5; /* orange-100 */
            color: #c2410c; /* orange-700 */
            padding: 0.15rem 0.4rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.9em;
        }
        .category-btn.active {
            background-color: var(--theme-orange);
            color: white;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }
        .category-btn {
             background-color: #e2e8f0;
             color: #475569;
             transition: background-color 0.2s, color 0.2s;
        }
        .category-btn:hover:not(.active) {
            background-color: #cbd5e1;
        }
        .command-btn.active {
            background-color: var(--theme-dark);
            color: white;
        }
        /* Simple fade-in animation for result */
        @keyframes fadeInResult {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeInResult 0.4s ease-out forwards;
        }
        /* Beautified Sample and Output Data Tables */
        .sample-table, .output-table {
            width: 100%;
            text-align: left;
            border-collapse: collapse;
        }
        .sample-table th, .output-table th {
            background-color: var(--theme-dark);
            color: white;
            padding: 0.5rem;
            font-weight: 600;
        }
        .sample-table td, .output-table td {
            padding: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
        }
        .sample-table tbody tr:nth-child(even), .output-table tbody tr:nth-child(even) {
            background-color: #f8fafc;
        }
        .sample-table th:first-child, .output-table th:first-child { border-top-left-radius: 0.375rem; }
        .sample-table th:last-child, .output-table th:last-child { border-top-right-radius: 0.375rem; }
    </style>
</head>
<body class="p-4 sm:p-6 pt-16">
    <!-- Header Navigation -->
    <header class="bg-white/80 backdrop-blur-lg fixed top-0 left-0 right-0 z-10 border-b border-slate-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-14">
                <a href="index.html" class="flex items-center gap-2 text-slate-800 hover:text-orange-500 transition-colors">
                    <span class="material-symbols-outlined" style="color: var(--theme-orange);">database</span>
                    <span class="font-bold font-heading text-lg">SQL Guide</span>
                </a>
                <div class="relative" id="dropdown-menu">
                    <button id="dropdown-button" class="flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-md text-sm font-semibold text-slate-700 transition-colors">
                        Navigate
                        <span class="material-symbols-outlined text-base">expand_more</span>
                    </button>
                    <div id="dropdown-content" class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-slate-200 hidden">
                        <a href="foundations.html" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">Foundations</a>
                        <a href="setup.html" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">Setup</a>
                        <a href="keywords.html" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">Keywords</a>
                        <a href="joins.html" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">JOINs</a>
                        <a href="advanced.html" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">Advanced</a>
                        <a href="interview.html" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">Interview Prep</a>
                        <a href="ai.html" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">AI Assistant</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto pt-8">
        <section id="commands" class="tab-panel fade-in">
            <div class="text-center mb-10">
                <h2 class="text-2xl md:text-3xl font-bold font-heading text-slate-800">Core Command Simulator</h2>
                <p class="max-w-3xl mx-auto text-slate-500 mt-3 text-sm md:text-base">Explore the building blocks of SQL with this interactive simulator. Select a command, review the example, run it, and see a breakdown of how it works.</p>
            </div>

            <!-- Sample Data Tables -->
            <details class="max-w-4xl mx-auto bg-white rounded-lg shadow border border-slate-200 mb-8 overflow-hidden">
                <summary class="p-3 font-semibold font-heading cursor-pointer flex items-center justify-between">
                    <span>View Sample Data Tables</span>
                    <span class="material-symbols-outlined">table_chart</span>
                </summary>
                <div class="p-4 border-t bg-slate-50 grid grid-cols-1 md:grid-cols-2 gap-6 text-xs">
                    <div>
                        <h4 class="font-bold mb-2 text-slate-700 text-sm">`employees`</h4>
                        <table class="sample-table">
                            <thead><tr><th>id</th><th>first_name</th><th>last_name</th><th>salary</th><th>dept_id</th></tr></thead>
                            <tbody>
                                <tr><td>101</td><td>John</td><td>Doe</td><td>55000</td><td>1</td></tr>
                                <tr><td>102</td><td>Jane</td><td>Smith</td><td>62000</td><td>2</td></tr>
                                <tr><td>103</td><td>Peter</td><td>Jones</td><td>71000</td><td>1</td></tr>
                                <tr><td>104</td><td>Jennifer</td><td>Lee</td><td>48000</td><td>3</td></tr>
                                <tr><td>105</td><td>Michael</td><td>Brown</td><td>80000</td><td>4</td></tr>
                                <tr><td>106</td><td>Sarah</td><td>Davis</td><td>95000</td><td>4</td></tr>
                                <tr><td>107</td><td>Chris</td><td>Miller</td><td>51000</td><td>2</td></tr>
                                <tr><td>108</td><td>Jessica</td><td>Wilson</td><td>68000</td><td>1</td></tr>
                                <tr><td>109</td><td>David</td><td>Moore</td><td>45000</td><td>3</td></tr>
                                <tr><td>110</td><td>Emily</td><td>Taylor</td><td>110000</td><td>5</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                        <h4 class="font-bold mb-2 text-slate-700 text-sm">`departments`</h4>
                        <table class="sample-table">
                            <thead><tr><th>id</th><th>name</th></tr></thead>
                            <tbody>
                                <tr><td>1</td><td>Sales</td></tr>
                                <tr><td>2</td><td>Marketing</td></tr>
                                <tr><td>3</td><td>HR</td></tr>
                                <tr><td>4</td><td>Engineering</td></tr>
                                <tr><td>5</td><td>Finance</td></tr>
                                <tr><td>6</td><td>IT</td></tr>
                                <tr><td>7</td><td>Operations</td></tr>
                                <tr><td>8</td><td>Legal</td></tr>
                                <tr><td>9</td><td>Research</td></tr>
                                <tr><td>10</td><td>Support</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </details>

            <div class="w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg border border-slate-200">
                <div class="p-3 border-b border-slate-200 flex flex-wrap justify-center gap-2 bg-slate-50/50 rounded-t-xl">
                    <button class="category-btn px-3 py-1.5 text-sm font-semibold rounded-md active" data-category="dql">DQL (Queries)</button>
                    <button class="category-btn px-3 py-1.5 text-sm font-semibold rounded-md" data-category="dml">DML (Manipulation)</button>
                    <button class="category-btn px-3 py-1.5 text-sm font-semibold rounded-md" data-category="ddl">DDL (Definition)</button>
                </div>
                <div id="command-buttons-container" class="p-3 border-b border-slate-200 flex flex-wrap justify-center gap-2"></div>
                <div id="command-simulator" class="p-6 md:p-8 grid grid-cols-1 lg:grid-cols-2 gap-6 items-start">
                    <!-- Dynamic Content Area -->
                    <div id="command-info">
                        <h3 id="command-title" class="text-xl font-bold font-heading text-slate-800 mb-2"></h3>
                        <p id="command-description" class="text-slate-600 mb-4 text-sm"></p>
                        <div class="bg-slate-800 text-white rounded-lg p-4 mb-4 relative">
                            <pre><code id="current-query" class="font-mono text-sm"></code></pre>
                            <button id="copy-btn" class="copy-btn absolute top-2 right-2 bg-slate-600 hover:bg-slate-500 text-white text-xs px-2 py-1 rounded flex items-center gap-1"><span class="material-symbols-outlined text-sm">content_copy</span>Copy</button>
                        </div>
                        <div id="command-tip" class="bg-green-50 border-l-4 border-green-400 text-green-800 p-4 rounded-r-lg text-sm"></div>
                    </div>
                    <div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4">
                            <button id="run-query-btn" class="w-full bg-orange-500 text-white font-bold py-2 px-4 rounded-md hover:bg-orange-600 transition-colors shadow flex items-center justify-center gap-2">
                                <span class="material-symbols-outlined">play_circle</span>Run Query
                            </button>
                            <button id="explain-query-btn" class="w-full bg-slate-600 text-white font-bold py-2 px-4 rounded-md hover:bg-slate-700 transition-colors shadow flex items-center justify-center gap-2">
                               <span class="material-symbols-outlined">help</span>Explain Query
                            </button>
                        </div>
                        <div id="output-container" class="bg-white p-4 rounded-lg border border-slate-200 min-h-[200px] overflow-auto text-sm">
                            <p class="text-slate-400">Click "Run Query" to see the result or "Explain Query" for a breakdown.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const commands = {
                dql: [
                    { id: 'select', name: 'SELECT...WHERE', desc: 'Retrieves data from a table, filtered by a specific condition.', query: "SELECT first_name, last_name, salary\nFROM employees\nWHERE salary > 60000;", tip: 'Use `WHERE` to narrow down results and improve query performance.', output: `<div class="animate-fade-in"><table class="output-table"><thead><tr><th>first_name</th><th>last_name</th><th>salary</th></tr></thead><tbody><tr><td>Jane</td><td>Smith</td><td>62000</td></tr><tr><td>Peter</td><td>Jones</td><td>71000</td></tr><tr><td>Michael</td><td>Brown</td><td>80000</td></tr><tr><td>Sarah</td><td>Davis</td><td>95000</td></tr><tr><td>Jessica</td><td>Wilson</td><td>68000</td></tr><tr><td>Emily</td><td>Taylor</td><td>110000</td></tr></tbody></table></div>`, explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">SELECT first_name, last_name, salary</p><p class="text-slate-600">This line specifies exactly which columns you want to see in your result. You are asking the database to return the <code>first_name</code>, <code>last_name</code>, and <code>salary</code> for each record that matches your criteria.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">FROM employees</p><p class="text-slate-600">This tells the database which table to look in. All the data will be pulled from the <code>employees</code> table.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">WHERE salary > 60000</p><p class="text-slate-600">This is the filtering clause. It instructs the database to only include rows where the value in the <code>salary</code> column is greater than 60000. Any employee earning 60000 or less will be excluded from the final result.</p></div></div></div>` },
                    { id: 'join', name: 'JOIN', desc: 'Combines rows from two or more tables based on a related column.', query: "SELECT e.first_name, d.name\nFROM employees e\nJOIN departments d ON e.dept_id = d.id;", tip: '`JOIN` (or `INNER JOIN`) is one of the most powerful features of SQL for relational data.', output: `<div class="animate-fade-in"><table class="output-table"><thead><tr><th>first_name</th><th>name</th></tr></thead><tbody><tr><td>John</td><td>Sales</td></tr><tr><td>Jane</td><td>Marketing</td></tr><tr><td>Peter</td><td>Sales</td></tr><tr><td>Jennifer</td><td>HR</td></tr><tr><td>Michael</td><td>Engineering</td></tr><tr><td>Sarah</td><td>Engineering</td></tr><tr><td>Chris</td><td>Marketing</td></tr><tr><td>Jessica</td><td>Sales</td></tr><tr><td>David</td><td>HR</td></tr><tr><td>Emily</td><td>Finance</td></tr></tbody></table></div>`, explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">SELECT e.first_name, d.name</p><p class="text-slate-600">Selects the <code>first_name</code> column from the <code>employees</code> table (aliased as <code>e</code>) and the <code>name</code> column from the <code>departments</code> table (aliased as <code>d</code>).</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">FROM employees e JOIN departments d</p><p class="text-slate-600">Specifies that we are querying from the <code>employees</code> table and joining it with the <code>departments</code> table. The <code>e</code> and <code>d</code> are short aliases to make the query easier to read.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">ON e.dept_id = d.id</p><p class="text-slate-600">This is the join condition. It tells the database how to match rows from the two tables: connect a row from <code>employees</code> to a row in <code>departments</code> where the <code>dept_id</code> in the employees table is the same as the <code>id</code> in the departments table.</p></div></div></div>` },
                    { id: 'like', name: 'LIKE', desc: 'Searches for a specified pattern in a column.', query: "SELECT first_name, last_name\nFROM employees\nWHERE first_name LIKE 'J%';", tip: 'The percent sign `%` is a wildcard that matches any sequence of characters.', output: `<div class="animate-fade-in"><table class="output-table"><thead><tr><th>first_name</th><th>last_name</th></tr></thead><tbody><tr><td>John</td><td>Doe</td></tr><tr><td>Jane</td><td>Smith</td></tr><tr><td>Jennifer</td><td>Lee</td></tr><tr><td>Jessica</td><td>Wilson</td></tr></tbody></table></div>`, explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">... WHERE first_name LIKE 'J%'</p><p class="text-slate-600">This is the filter. The <code>LIKE</code> operator is used for pattern matching in strings. The <code>%</code> is a wildcard character that matches any sequence of characters. So, this line finds all employees whose first name starts with 'J'.</p></div></div></div>` },
                    { id: 'in', name: 'IN', desc: 'Specifies multiple values in a WHERE clause.', query: "SELECT first_name, last_name\nFROM employees\nWHERE dept_id IN (2, 3);", tip: '`IN` is a shorthand for multiple `OR` conditions.', output: `<div class="animate-fade-in"><table class="output-table"><thead><tr><th>first_name</th><th>last_name</th></tr></thead><tbody><tr><td>Jane</td><td>Smith</td></tr><tr><td>Jennifer</td><td>Lee</td></tr><tr><td>Chris</td><td>Miller</td></tr><tr><td>David</td><td>Moore</td></tr></tbody></table></div>`, explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">... WHERE dept_id IN (2, 3)</p><p class="text-slate-600">This clause filters the results to include only employees whose <code>dept_id</code> is either 2 or 3. It's a more concise way of writing <code>WHERE dept_id = 2 OR dept_id = 3</code>.</p></div></div></div>` },
                    { id: 'between', name: 'BETWEEN', desc: 'Selects values within a given range. The values can be numbers, text, or dates.', query: "SELECT first_name, salary\nFROM employees\nWHERE salary BETWEEN 50000 AND 65000;", tip: 'The `BETWEEN` operator is inclusive: begin and end values are included.', output: `<div class="animate-fade-in"><table class="output-table"><thead><tr><th>first_name</th><th>salary</th></tr></thead><tbody><tr><td>John</td><td>55000</td></tr><tr><td>Jane</td><td>62000</td></tr><tr><td>Chris</td><td>51000</td></tr></tbody></table></div>`, explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">... WHERE salary BETWEEN 50000 AND 65000</p><p class="text-slate-600">This clause filters the results to include employees whose salary falls within the range of 50,000 to 65,000. The <code>BETWEEN</code> operator includes both the start and end values in the range.</p></div></div></div>` },
                    { id: 'groupby', name: 'GROUP BY...HAVING', desc: 'Groups rows that have the same values into summary rows and filters these groups.', query: 'SELECT d.name, COUNT(e.id) as num_employees\nFROM employees e\nJOIN departments d ON e.dept_id = d.id\nGROUP BY d.name\nHAVING COUNT(e.id) > 1;', tip: '`WHERE` filters rows before grouping, `HAVING` filters groups after grouping.', output: `<div class="animate-fade-in"><table class="output-table"><thead><tr><th>name</th><th>num_employees</th></tr></thead><tbody><tr><td>Sales</td><td>3</td></tr><tr><td>Marketing</td><td>2</td></tr><tr><td>HR</td><td>2</td></tr><tr><td>Engineering</td><td>2</td></tr></tbody></table></div>`, explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">SELECT d.name, COUNT(e.id) as num_employees</p><p class="text-slate-600">Selects the department name and counts the number of employees in each group, giving this new count column the alias <code>num_employees</code>.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">... GROUP BY d.name</p><p class="text-slate-600">This groups all rows with the same department name together, so that the <code>COUNT()</code> function can count the employees for each unique department.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">HAVING COUNT(e.id) > 1</p><p class="text-slate-600">After grouping the employees by department, this clause filters those groups, keeping only the ones that have more than one employee.</p></div></div></div>` },
                    { id: 'case', name: 'CASE', desc: 'Goes through conditions and returns a value when the first condition is met.', query: "SELECT first_name, salary,\n  CASE\n    WHEN salary > 70000 THEN 'High Earner'\n    WHEN salary > 50000 THEN 'Mid Earner'\n    ELSE 'Standard Earner'\n  END as salary_level\nFROM employees;", tip: 'A `CASE` statement is like an IF-THEN-ELSE statement in other languages.', output: `<div class="animate-fade-in"><table class="output-table"><thead><tr><th>first_name</th><th>salary</th><th>salary_level</th></tr></thead><tbody><tr><td>John</td><td>55000</td><td>Mid Earner</td></tr><tr><td>Jane</td><td>62000</td><td>Mid Earner</td></tr><tr><td>Peter</td><td>71000</td><td>High Earner</td></tr><tr><td>Jennifer</td><td>48000</td><td>Standard Earner</td></tr><tr><td>Michael</td><td>80000</td><td>High Earner</td></tr><tr><td>Sarah</td><td>95000</td><td>High Earner</td></tr><tr><td>Chris</td><td>51000</td><td>Mid Earner</td></tr><tr><td>Jessica</td><td>68000</td><td>Mid Earner</td></tr><tr><td>David</td><td>45000</td><td>Standard Earner</td></tr><tr><td>Emily</td><td>110000</td><td>High Earner</td></tr></tbody></table></div>`, explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">CASE ... END as salary_level</p><p class="text-slate-600">Creates a new temporary column named <code>salary_level</code>.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">WHEN salary > 70000 THEN 'High Earner'</p><p class="text-slate-600">If an employee's salary is over 70000, their <code>salary_level</code> is set to 'High Earner'.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">WHEN salary > 50000 THEN 'Mid Earner'</p><p class="text-slate-600">If the first condition isn't met, this checks if the salary is over 50000 and sets the level to 'Mid Earner'.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">ELSE 'Standard Earner'</p><p class="text-slate-600">If none of the above conditions are met, the level is set to 'Standard Earner'.</p></div></div></div>` },
                    { id: 'limitoffset', name: 'LIMIT...OFFSET', desc: 'Restricts the number of rows returned and specifies a starting point.', query: "SELECT first_name, last_name, salary\nFROM employees\nORDER BY id\nLIMIT 2 OFFSET 2;", tip: '`LIMIT` sets the max rows to return. `OFFSET` skips a number of rows before starting. Great for pagination!', output: `<div class="animate-fade-in"><table class="output-table"><thead><tr><th>first_name</th><th>last_name</th><th>salary</th></tr></thead><tbody><tr><td>Peter</td><td>Jones</td><td>71000</td></tr><tr><td>Jennifer</td><td>Lee</td><td>48000</td></tr></tbody></table></div>`, explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">... ORDER BY id</p><p class="text-slate-600">First, it's important to sort the data to ensure the <code>LIMIT</code> and <code>OFFSET</code> are applied consistently. Here, we sort by employee <code>id</code>.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">LIMIT 2</p><p class="text-slate-600">This restricts the final output to a maximum of 2 rows.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">OFFSET 2</p><p class="text-slate-600">This tells the database to skip the first 2 rows from the sorted result set before it starts selecting the 2 rows specified by <code>LIMIT</code>.</p></div></div></div>` },
                ],
                dml: [
                    { id: 'insert', name: 'INSERT INTO', desc: 'Adds a new row of data to a table.', query: "INSERT INTO departments (id, name)\nVALUES (11, 'Quality Assurance');", tip: 'Ensure the number of values matches the number of columns specified.', output: '<p class="animate-fade-in text-green-600 font-medium">1 row(s) affected.</p>', explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">INSERT INTO departments (id, name)</p><p class="text-slate-600">This specifies that we are adding a new row into the <code>departments</code> table, and we will be providing values for the <code>id</code> and <code>name</code> columns.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">VALUES (11, 'Quality Assurance')</p><p class="text-slate-600">This provides the values for the new row, corresponding to the columns listed. <code>11</code> will be the <code>id</code>, and <code>'Quality Assurance'</code> will be the <code>name</code>.</p></div></div></div>` },
                    { id: 'update', name: 'UPDATE', desc: 'Modifies existing records in a table.', query: "UPDATE employees\nSET salary = 50000\nWHERE id = 104;", tip: 'Always use a `WHERE` clause with `UPDATE` unless you intend to change all rows!', output: '<p class="animate-fade-in text-green-600 font-medium">1 row(s) affected.</p>', explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">UPDATE employees</p><p class="text-slate-600">Specifies the <code>employees</code> table as the target for modification.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">SET salary = 50000</p><p class="text-slate-600">This line defines the change to be made: set the value in the <code>salary</code> column to <code>50000</code>.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">WHERE id = 104</p><p class="text-slate-600">This is a crucial filter. It ensures that the <code>UPDATE</code> operation only applies to the row where the employee <code>id</code> is 104. Without this, every row in the table would be updated.</p></div></div></div>` },
                    { id: 'delete', name: 'DELETE', desc: 'Removes one or more rows from a table.', query: 'DELETE FROM employees\nWHERE id = 104;', tip: '`DELETE` removes rows, `TRUNCATE` removes all rows (faster), `DROP` removes the table itself.', output: '<p class="animate-fade-in text-green-600 font-medium">1 row(s) affected.</p>', explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">DELETE FROM employees</p><p class="text-slate-600">Specifies that one or more rows will be removed from the <code>employees</code> table.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">WHERE id = 104</p><p class="text-slate-600">This clause identifies exactly which row(s) to delete. In this case, it's the employee with an <code>id</code> of 104.</p></div></div></div>` },
                ],
                ddl: [
                    { id: 'create', name: 'CREATE TABLE', desc: 'Creates a new table in the database.', query: 'CREATE TABLE projects (\n    id INT PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    start_date DATE\n);', tip: 'Define data types and constraints for each column to ensure data integrity.', output: '<p class="animate-fade-in text-green-600 font-medium">Table "projects" created successfully.</p>', explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">CREATE TABLE projects (...)</p><p class="text-slate-600">This command initiates the creation of a new table named <code>projects</code>.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">id INT PRIMARY KEY, ...</p><p class="text-slate-600">This defines the columns inside the table. <code>id</code> is an integer and a <code>PRIMARY KEY</code> (a unique, non-null identifier for each row). <code>name</code> is a variable-length string that cannot be null (<code>NOT NULL</code>). <code>start_date</code> is a date value.</p></div></div></div>` },
                    { id: 'alter', name: 'ALTER TABLE', desc: 'Modifies the structure of an existing table.', query: 'ALTER TABLE projects\nADD COLUMN budget DECIMAL(10, 2);', tip: 'You can use `ALTER TABLE` to add, drop, or modify columns, constraints, and indexes.', output: '<p class="animate-fade-in text-green-600 font-medium">Table "projects" altered successfully.</p>', explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">ALTER TABLE projects</p><p class="text-slate-600">This indicates that the structure of the <code>projects</code> table is going to be changed.</p></div></div><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">ADD COLUMN budget DECIMAL(10, 2)</p><p class="text-slate-600">This specifies the change: add a new column named <code>budget</code>. The data type is <code>DECIMAL(10, 2)</code>, which means it can store a number with a total of 10 digits, with 2 of those digits after the decimal point.</p></div></div></div>` },
                    { id: 'drop', name: 'DROP TABLE', desc: 'Permanently deletes a table and all its data.', query: 'DROP TABLE projects;', tip: 'This action is irreversible. Use with extreme caution!', output: '<p class="animate-fade-in text-green-600 font-medium">Table "projects" dropped successfully.</p>', explanation: `<div class="p-2 bg-slate-50 rounded-md text-xs space-y-3"><h4 class="font-bold text-sm text-slate-800">Query Breakdown</h4><div class="flex items-start gap-2"><span class="material-symbols-outlined text-orange-500 text-base mt-0.5">arrow_right_alt</span><div><p class="font-semibold text-slate-700">DROP TABLE projects;</p><p class="text-slate-600">This command permanently deletes the entire <code>projects</code> table, including its structure, data, and any associated indexes or constraints. This action cannot be undone.</p></div></div></div>` },
                ]
            };

            const categoryButtons = document.querySelectorAll('.category-btn');
            const commandButtonsContainer = document.getElementById('command-buttons-container');
            const commandTitle = document.getElementById('command-title');
            const commandDesc = document.getElementById('command-description');
            const currentQuery = document.getElementById('current-query');
            const commandTip = document.getElementById('command-tip');
            const outputContainer = document.getElementById('output-container');
            const runQueryBtn = document.getElementById('run-query-btn');
            const explainQueryBtn = document.getElementById('explain-query-btn');
            const copyBtn = document.getElementById('copy-btn');

            let activeCategory = 'dql';
            let activeCommandId = 'select';

            function renderCommandButtons() {
                commandButtonsContainer.innerHTML = '';
                commands[activeCategory].forEach(cmd => {
                    const button = document.createElement('button');
                    button.className = `command-btn px-4 py-1 text-sm font-semibold rounded-full bg-slate-100 text-slate-700 transition-colors hover:bg-slate-200 ${cmd.id === activeCommandId ? 'active' : ''}`;
                    button.dataset.command = cmd.id;
                    button.textContent = cmd.name;
                    button.addEventListener('click', () => {
                        activeCommandId = cmd.id;
                        renderCommandButtons();
                        updateSimulator();
                    });
                    commandButtonsContainer.appendChild(button);
                });
            }

            function updateSimulator() {
                const command = commands[activeCategory].find(c => c.id === activeCommandId);
                if (command) {
                    commandTitle.textContent = command.name;
                    commandDesc.textContent = command.desc;
                    currentQuery.textContent = command.query;
                    commandTip.innerHTML = `<p><strong>Tip:</strong> ${command.tip}</p>`;
                    outputContainer.innerHTML = '<p class="text-slate-400">Click "Run Query" to see the result or "Explain Query" for a breakdown.</p>';
                }
            }

            function handleRunQuery() {
                const command = commands[activeCategory].find(c => c.id === activeCommandId);
                if (command) {
                    outputContainer.innerHTML = command.output;
                }
            }
            
            function handleExplainQuery() {
                const command = commands[activeCategory].find(c => c.id === activeCommandId);
                if (command && command.explanation) {
                    outputContainer.innerHTML = command.explanation;
                }
            }

            function handleCopy() {
                const textToCopy = currentQuery.textContent;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    copyBtn.innerHTML = `<span class="material-symbols-outlined text-sm">check</span>Copied!`;
                    setTimeout(() => { 
                        copyBtn.innerHTML = `<span class="material-symbols-outlined text-sm">content_copy</span>Copy`;
                    }, 2000);
                }).catch(err => console.error('Failed to copy: ', err));
            }

            // --- EVENT LISTENERS ---
            const dropdownButton = document.getElementById('dropdown-button');
            const dropdownContent = document.getElementById('dropdown-content');
            const dropdownMenu = document.getElementById('dropdown-menu');

            dropdownButton.addEventListener('click', (event) => {
                event.stopPropagation();
                dropdownContent.classList.toggle('hidden');
            });

            document.addEventListener('click', (event) => {
                if (dropdownMenu && !dropdownMenu.contains(event.target)) {
                    dropdownContent.classList.add('hidden');
                }
            });

            categoryButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    categoryButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    activeCategory = btn.dataset.category;
                    activeCommandId = commands[activeCategory][0].id;
                    renderCommandButtons();
                    updateSimulator();
                });
            });

            runQueryBtn.addEventListener('click', handleRunQuery);
            explainQueryBtn.addEventListener('click', handleExplainQuery);
            copyBtn.addEventListener('click', handleCopy);

            renderCommandButtons();
            updateSimulator();
        });
    </script>
</body>
</html>
